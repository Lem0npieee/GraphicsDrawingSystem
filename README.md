# 2D图形绘制系统

一个基于Python和Tkinter开发的简单易用的2D图形绘制工具。

## 功能特点

### 基本绘图功能
- ✅ **点绘制**: 可以在画布上绘制点
- ✅ **直线绘制**: 支持绘制任意角度的直线
- ✅ **矩形绘制**: 绘制矩形和正方形
- ✅ **圆形绘制**: 绘制圆形和椭圆
- ✅ **多边形绘制**: 支持绘制任意多边形

### 图形属性
- ✅ **颜色设置**: 支持设置线条颜色和填充颜色
- ✅ **线宽调整**: 可调整线条粗细
- ✅ **填充控制**: 支持图形填充和无填充模式

### 交互功能
- ✅ **选择工具**: 选择和编辑已绘制的图形
- ✅ **拖拽移动**: 可以拖拽移动选中的图形
- ✅ **多选操作**: 支持选择多个图形进行批量操作

### 编辑功能
- ✅ **撤销/重做**: 支持多级撤销和重做
- ✅ **复制粘贴**: 可以复制和粘贴图形
- ✅ **删除**: 删除选中的图形
- ✅ **全选**: 选择画布上的所有图形

### 文件操作
- ✅ **项目保存**: 将绘制的图形保存为项目文件（JSON格式）
- ✅ **项目加载**: 加载之前保存的项目文件
- ✅ **图片导出**: 将画布内容导出为图片文件

## 系统架构

```
项目结构:
├── main.py                 # 主程序入口
├── requirements.txt        # 依赖包列表
├── build.py               # 打包脚本
├── build.bat              # Windows批处理打包脚本
├── src/                   # 源代码目录
│   ├── shapes/            # 图形类模块
│   │   ├── base_shape.py  # 基础图形类
│   │   ├── point.py       # 点类
│   │   ├── line.py        # 直线类
│   │   ├── rectangle.py   # 矩形类
│   │   ├── circle.py      # 圆形类
│   │   └── polygon.py     # 多边形类
│   ├── ui/                # 用户界面模块
│   │   ├── main_window.py # 主窗口
│   │   ├── tool_bar.py    # 工具栏
│   │   └── property_panel.py # 属性面板
│   └── managers/          # 管理器模块
│       ├── drawing_manager.py # 绘图管理器
│       └── file_manager.py    # 文件管理器
├── assets/                # 资源文件
├── docs/                  # 文档
└── release/               # 发布文件夹
```

## 技术栈

- **编程语言**: Python 3.7+
- **GUI框架**: Tkinter (Python内置)
- **图像处理**: Pillow (PIL)
- **打包工具**: PyInstaller
- **数据格式**: JSON

## 安装和运行

### 方法1: 直接运行Python代码

1. 确保已安装Python 3.7+
2. 安装依赖包:
   ```bash
   pip install -r requirements.txt
   ```
3. 运行程序:
   ```bash
   python main.py
   ```

### 方法2: 使用打包后的exe文件

1. 下载release文件夹中的exe文件
2. 双击运行即可

### 方法3: 自己打包exe文件

1. 安装依赖包:
   ```bash
   pip install -r requirements.txt
   ```
2. 运行打包脚本:
   ```bash
   python build.py
   ```
   或者在Windows上直接运行:
   ```bash
   build.bat
   ```
3. 打包完成后，可执行文件在`release/`目录中

## 使用说明

### 工具栏
- **选择工具**: 用于选择和移动图形
- **点工具**: 在画布上绘制点
- **直线工具**: 绘制直线
- **矩形工具**: 绘制矩形
- **圆形工具**: 绘制圆形
- **多边形工具**: 绘制多边形（点击添加顶点，双击或点击第一个点完成）

### 属性面板
- **线条颜色**: 点击色块选择线条颜色
- **填充颜色**: 点击色块选择填充颜色，勾选"无填充"取消填充
- **线宽**: 调整滑块设置线条粗细
- **图形信息**: 显示选中图形的详细信息

### 快捷键
- `Ctrl+N`: 新建
- `Ctrl+O`: 打开
- `Ctrl+S`: 保存
- `Ctrl+Z`: 撤销
- `Ctrl+Y`: 重做
- `Ctrl+C`: 复制
- `Ctrl+V`: 粘贴
- `Ctrl+A`: 全选
- `Delete`: 删除选中图形

### 操作技巧
1. **绘制图形**: 选择对应工具，在画布上点击拖拽即可绘制
2. **选择图形**: 使用选择工具点击图形即可选中
3. **移动图形**: 选中图形后拖拽即可移动
4. **修改属性**: 选中图形后在属性面板中调整颜色、线宽等
5. **多边形绘制**: 选择多边形工具，依次点击各个顶点，最后双击或点击第一个点完成

## 项目特色

1. **模块化设计**: 采用面向对象的设计模式，代码结构清晰
2. **可扩展性**: 易于添加新的图形类型和功能
3. **用户友好**: 直观的图形界面，易于上手
4. **跨平台**: 基于Python和Tkinter，支持Windows、macOS、Linux
5. **轻量级**: 依赖少，安装包小

## 开发说明

### 添加新图形类型
1. 在`src/shapes/`目录下创建新的图形类
2. 继承`BaseShape`基类
3. 实现必要的抽象方法
4. 在工具栏中添加对应的工具按钮

### 扩展功能
- 可以添加图层管理
- 增加更多图形变换功能（旋转、缩放等）
- 添加网格和辅助线
- 支持更多文件格式

## 版本历史

- **v1.0.0**: 初始版本，实现基本绘图功能

## 许可证

本项目采用MIT许可证，详情请参阅LICENSE文件。

## 联系方式

如有问题或建议，欢迎联系开发者。

---

**2D图形绘制系统** - 让绘图变得简单有趣！